var SidebarModel=Backbone.Model.extend({defaults:{mode:0,strong:"H0001",morph:undefined}});var SidebarList=Backbone.Collection.extend({model:SidebarModel,localStorage:new Backbone.LocalStorage("sidebar"),initialize:function(){}});var SidebarView=Backbone.View.extend({initialize:function(){_.bindAll(this);this.listenTo(this.model,"change",this.activate)},activate:function(){var a=this;this.$el.closest(".row-offcanvas").toggleClass("active");$.getSafe(MODULE_GET_INFO,[this.model.get("strong"),this.model.get("morph")],function(b){a.createDefinition(b,0)})},createDefinition:function(g,a){var e=this.$el.find("> div");if(e.length==0){e=$("<div>");e.append(this._createTabContainer())}var c="lexicon";var f=$("#"+c);if(f.length==0){f=$("<div>").attr("id",c)}else{f.detach();f.empty()}var d=$("<div id='vocabEntries'>");f.append(d);f.append($("<h1>").append(__s.lexicon_vocab));if(g.vocabInfos.length>1){f.append($("<div>").append("Multiple entries go here"))}if(g.vocabInfos.length>0){var b=g.vocabInfos[a];f.append($("<div>").append($("<span>").addClass(b.strongNumber[0]=="H"?"hbFontSmall":"unicodeFont").append(b.accentedUnicode)).append(" (").append(b.stepTransliteration).append("): ").append(b.shortDef||"").append(" ").append(b.stepGloss));if(b.mediumDef){f.append($("<h2>").append(__s.lexicon_meaning));f.append(b.mediumDef)}if(b.lsjDefs){f.append($("<h2>").append(b.strongNumber[0].toLowerCase()=="g"?__s.lexicon_lsj_definition:__s.lexicon_bdb_definition));f.append(b.lsjDefs)}if(b.relatedNos){f.append($("<h2>").append(__s.lexicon_related_words));f.append(b.relatedNos)}}e.append(f);this.$el.append(e)},_createTabContainer:function(){var a=$("<ul>").addClass("nav nav-tabs").append("<li>").append("<li>").children().first().addClass("active").append($("<a>").addClass("glyphicon glyphicon-info-sign").attr("title",__s.original_word).attr("data-toggle","tab").attr("data-target","#lexicon")).end().next().append($("<a>").addClass("glyphicon glyphicon-stats").attr("title",__s.passage_stats).attr("data-toggle","tab").attr("data-target","#analysis")).end().end();return a}});